<ng-container *ngIf="statistics$ | async as stats; else loading">
    <h3 class="fw-normal">Podle typu</h3>
    <app-bar-chart [data]="stats.byType"></app-bar-chart>
    <h3 class="fw-normal">Podle období</h3>
    <app-line-chart [data]="stats.byDate"></app-line-chart>

    <h3 class="fw-normal">Soubory</h3>
    <div class="row">
        <div class="col-md" *ngFor="let item of toColumns(stats.fileExtensionStatistics, 3)">
            <table class="table table-sm table-striped auto-column-width">
                <thead>
                    <tr>
                        <th>Přípona</th>
                        <th>Počet</th>
                        <th>Velikost</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let row of item">
                        <td>{{row.extension}}</td>
                        <td>{{row.count | numberWithSpaces}}</td>
                        <td>{{row.size | filesize}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</ng-container>

<ng-template #loading>
    <app-loading></app-loading>
</ng-template>
